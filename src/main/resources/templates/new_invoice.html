<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Invoice Management System</title>
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
	integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
	crossorigin="anonymous">
</head>
<body>
	<div class="container">
		<h1>Invoice Management System</h1>
		<hr>
		<h2>Create new Invoice</h2>


		<form action="#" th:action="@{/saveInvoice}" th:object="${invoice}"
			method="POST">
			<input type="text" th:field="*{title}"
				placeholder="title" class="form-control mb-4 col-4">
				
				<input type="text" th:field="*{description}"
				placeholder="description" class="form-control mb-4 col-4">
				
				<input type="date" th:field="*{creationDate}"
				placeholder="creationDate" class="form-control mb-4 col-4">-->

<!--			<input type="text" name="search_product" id="search_product" placeholder='Search Item'-->
<!--				   class="form-control mb-4 col-4" />-->

				<input type="hidden" th:field="*{total}"
				   placeholder="total" class="form-control mb-4 col-4">





		<hr>
		<h2>Invoice Items list</h2>
		<table border="1" class = "table table-striped table-responsive-md">
			<thead>
			<tr>
<!--				<th>-->
<!--					<a th:href="@{'/page/' + ${currentPage} + '?sortField=title&sortDir=' + ${reverseSortDir}}">-->
<!--						Invoice Id</a>-->
<!--				</th>-->
<!--				<th>-->
<!--					<a th:href="@{'/page/' + ${currentPage} + '?sortField=title&sortDir=' + ${reverseSortDir}}">-->
<!--						Item Id</a>-->
<!--				</th>-->
				<th>
					<a th:href="@{'/page/' + ${currentPage} + '?sortField=title&sortDir=' + ${reverseSortDir}}">
						title</a>
				</th>
				<th>
					<a th:href="@{'/page/' + ${currentPage} + '?sortField=description&sortDir=' + ${reverseSortDir}}">
						quantity</a>
				</th>
				<th>
					<a th:href="@{'/page/' + ${currentPage} + '?sortField=creationDate&sortDir=' + ${reverseSortDir}}">
						creationDate</a>
				</th>
				<th>
					<a th:href="@{'/page/' + ${currentPage} + '?sortField=total&sortDir=' + ${reverseSortDir}}">
						discount</a>
				</th>
				<th> Actions </th>
			</tr>
			</thead>
			<tbody>
			<tr th:each="invoiceitem : ${invoiceItem}">
				<!--					<td th:text="${invoice.id}"></td>-->
<!--				<td th:text="${invoiceItem.invoice}"></td>-->
<!--				<td th:text="${invoiceItem.item}"></td>-->
<!--				<td th:text="${invoiceitem.title}"></td>-->
				<td th:text="${invoiceitem.quantity}"></td>
				<td th:text="${invoiceitem.discount}"></td>
				<!--				<td th:text="${invoiceItem.total}"></td>-->
				<!--				<td> <a th:href="@{/showFormForUpdateInvoice/{id}(id=${invoice.id})}" class="btn btn-primary">Update</a>-->
				<!--					<a th:href="@{/deleteInvoice/{id}(id=${invoice.id})}" class="btn btn-danger">Delete</a>-->
				<!--					<a th:href="@{/viewInvoice/{id}(id=${invoice.id})}" class="btn" style="color:white;background-color: limegreen">View</a>-->

				</td>
			</tr>
			</tbody>
		</table>


<hr>
		<h2>Items list</h2>
		<a th:href = "@{/addNewItem}" class="btn btn-primary btn-sm mb-3">Add New Item </a>

		<table border="1" class = "table table-striped table-responsive-md">
			<thead>
			<tr>
				<th>
					<a th:href="@{'/page/' + ${currentPage} + '?sortField=firstName&sortDir=' + ${reverseSortDir}}">
						Item Title</a>
				</th>
				<th>
					<a th:href="@{'/page/' + ${currentPage} + '?sortField=lastName&sortDir=' + ${reverseSortDir}}">
						Item Price</a>
				</th>
				<th> Actions </th>
			</tr>
			</thead>
			<tbody>
			<tr th:each="item : ${listItem}">
				<td th:text="${item.name}"></td>
				<td th:text="${item.price}"></td>
<!--				<td> <a th:href="@{/updateCustomer/{id}(id=${item.id})}" class="btn btn-primary">Update</a>-->
<!--					<a th:href="@{/deleteCustomer/{id}(id=${item.id})}" class="btn btn-danger">Delete</a>-->
<!--					<td><a th:href="@{/addItemToInvoivce/{id}(id=${item.id})}" class="btn" style="color:white;background-color: limegreen">Add item to invoice</a>-->
				<td><a th:href="@{/addItemToInvoivce/invoiceId/{idInvoice}/itemId/{idItem}/q/10/d/0(idInvoice=${invoice.id},idItem=${item.id})}" class="btn" style="color:white;background-color: limegreen">Add item to invoice</a></td>

				</td>
			</tr>
			</tbody>
		</table>
			<button type="submit" class="btn btn-info col-2"> Save Invoice & add items</button>

		</form>
		<a th:href = "@{/listInvoice}"> Back to Invoices List</a>
	</div>
</body>
</html>